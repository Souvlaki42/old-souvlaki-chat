(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();function F(){}function tt(o,t){for(const e in t)o[e]=t[e];return o}function He(o){return o()}function Te(){return Object.create(null)}function N(o){o.forEach(He)}function Ce(o){return typeof o=="function"}function ee(o,t){return o!=o?t==t:o!==t||o&&typeof o=="object"||typeof o=="function"}let ue;function Ae(o,t){return ue||(ue=document.createElement("a")),ue.href=t,o===ue.href}function nt(o){return Object.keys(o).length===0}function it(o,...t){if(o==null)return F;const e=o.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function Oe(o,t,e){o.$$.on_destroy.push(it(t,e))}function Re(o,t,e,n){if(o){const i=Je(o,t,e,n);return o[0](i)}}function Je(o,t,e,n){return o[1]&&n?tt(e.ctx.slice(),o[1](n(t))):e.ctx}function Le(o,t,e,n){if(o[2]&&n){const i=o[2](n(e));if(t.dirty===void 0)return i;if(typeof i=="object"){const s=[],r=Math.max(t.dirty.length,i.length);for(let a=0;a<r;a+=1)s[a]=t.dirty[a]|i[a];return s}return t.dirty|i}return t.dirty}function ze(o,t,e,n,i,s){if(i){const r=Je(t,e,n,s);o.p(r,i)}}function Me(o){if(o.ctx.length>32){const t=[],e=o.ctx.length/32;for(let n=0;n<e;n++)t[n]=-1;return t}return-1}function p(o,t){o.appendChild(t)}function z(o,t,e){o.insertBefore(t,e||null)}function L(o){o.parentNode&&o.parentNode.removeChild(o)}function _(o){return document.createElement(o)}function W(o){return document.createTextNode(o)}function I(){return W(" ")}function ot(){return W("")}function E(o,t,e,n){return o.addEventListener(t,e,n),()=>o.removeEventListener(t,e,n)}function Pe(o){return function(t){return t.preventDefault(),o.call(this,t)}}function st(o){return function(t){return t.stopPropagation(),o.call(this,t)}}function v(o,t,e){e==null?o.removeAttribute(t):o.getAttribute(t)!==e&&o.setAttribute(t,e)}function rt(o){return Array.from(o.childNodes)}function Ie(o,t){t=""+t,o.data!==t&&(o.data=t)}function $(o,t){o.value=t??""}let ie;function ne(o){ie=o}function Ke(){if(!ie)throw new Error("Function called outside component initialization");return ie}function at(o){Ke().$$.on_mount.push(o)}function ut(o){Ke().$$.on_destroy.push(o)}function ke(o,t){const e=o.$$.callbacks[t.type];e&&e.slice().forEach(n=>n.call(this,t))}const V=[],Q=[];let Z=[];const be=[],ct=Promise.resolve();let ye=!1;function lt(){ye||(ye=!0,ct.then(Ve))}function ve(o){Z.push(o)}function we(o){be.push(o)}const ge=new Set;let J=0;function Ve(){if(J!==0)return;const o=ie;do{try{for(;J<V.length;){const t=V[J];J++,ne(t),ht(t.$$)}}catch(t){throw V.length=0,J=0,t}for(ne(null),V.length=0,J=0;Q.length;)Q.pop()();for(let t=0;t<Z.length;t+=1){const e=Z[t];ge.has(e)||(ge.add(e),e())}Z.length=0}while(V.length);for(;be.length;)be.pop()();ye=!1,ge.clear(),ne(o)}function ht(o){if(o.fragment!==null){o.update(),N(o.before_update);const t=o.dirty;o.dirty=[-1],o.fragment&&o.fragment.p(o.ctx,t),o.after_update.forEach(ve)}}function dt(o){const t=[],e=[];Z.forEach(n=>o.indexOf(n)===-1?t.push(n):e.push(n)),e.forEach(n=>n()),Z=t}const le=new Set;let H;function Ze(){H={r:0,c:[],p:H}}function Qe(){H.r||N(H.c),H=H.p}function q(o,t){o&&o.i&&(le.delete(o),o.i(t))}function D(o,t,e,n){if(o&&o.o){if(le.has(o))return;le.add(o),H.c.push(()=>{le.delete(o),n&&(e&&o.d(1),n())}),o.o(t)}else n&&n()}function ft(o,t){D(o,1,1,()=>{t.delete(o.key)})}function pt(o,t,e,n,i,s,r,a,u,l,h,c){let d=o.length,f=s.length,m=d;const b={};for(;m--;)b[o[m].key]=m;const w=[],S=new Map,g=new Map,y=[];for(m=f;m--;){const C=c(i,s,m),j=e(C);let x=r.get(j);x?n&&y.push(()=>x.p(C,t)):(x=l(j,C),x.c()),S.set(j,w[m]=x),j in b&&g.set(j,Math.abs(m-b[j]))}const k=new Set,O=new Set;function P(C){q(C,1),C.m(a,h),r.set(C.key,C),h=C.first,f--}for(;d&&f;){const C=w[f-1],j=o[d-1],x=C.key,B=j.key;C===j?(h=C.first,d--,f--):S.has(B)?!r.has(x)||k.has(x)?P(C):O.has(B)?d--:g.get(x)>g.get(B)?(O.add(x),P(C)):(k.add(B),d--):(u(j,r),d--)}for(;d--;){const C=o[d];S.has(C.key)||u(C,r)}for(;f;)P(w[f-1]);return N(y),w}function _e(o,t,e){const n=o.$$.props[t];n!==void 0&&(o.$$.bound[n]=e,e(o.$$.ctx[n]))}function oe(o){o&&o.c()}function Y(o,t,e,n){const{fragment:i,after_update:s}=o.$$;i&&i.m(t,e),n||ve(()=>{const r=o.$$.on_mount.map(He).filter(Ce);o.$$.on_destroy?o.$$.on_destroy.push(...r):N(r),o.$$.on_mount=[]}),s.forEach(ve)}function X(o,t){const e=o.$$;e.fragment!==null&&(dt(e.after_update),N(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function mt(o,t){o.$$.dirty[0]===-1&&(V.push(o),lt(),o.$$.dirty.fill(0)),o.$$.dirty[t/31|0]|=1<<t%31}function se(o,t,e,n,i,s,r,a=[-1]){const u=ie;ne(o);const l=o.$$={fragment:null,ctx:[],props:s,update:F,not_equal:i,bound:Te(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Te(),dirty:a,skip_bound:!1,root:t.target||u.$$.root};r&&r(l.root);let h=!1;if(l.ctx=e?e(o,t.props||{},(c,d,...f)=>{const m=f.length?f[0]:d;return l.ctx&&i(l.ctx[c],l.ctx[c]=m)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](m),h&&mt(o,c)),d}):[],l.update(),h=!0,N(l.before_update),l.fragment=n?n(l.ctx):!1,t.target){if(t.hydrate){const c=rt(t.target);l.fragment&&l.fragment.l(c),c.forEach(L)}else l.fragment&&l.fragment.c();t.intro&&q(o.$$.fragment),Y(o,t.target,t.anchor,t.customElement),Ve()}ne(u)}class re{$destroy(){X(this,1),this.$destroy=F}$on(t,e){if(!Ce(e))return F;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const i=n.indexOf(e);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!nt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Se=function(o,t){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},Se(o,t)};function M(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=o}Se(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var je=function(){return je=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},je.apply(this,arguments)};function T(o,t,e,n){return new(e||(e=Promise))(function(i,s){function r(l){try{u(n.next(l))}catch(h){s(h)}}function a(l){try{u(n.throw(l))}catch(h){s(h)}}function u(l){l.done?i(l.value):function(c){return c instanceof e?c:new e(function(d){d(c)})}(l.value).then(r,a)}u((n=n.apply(o,t||[])).next())})}function A(o,t){var e,n,i,s,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(e=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!((i=i.length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(o,r)}catch(d){c=[6,d],n=0}finally{e=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([u,l])}}}var Ye,G=function(o){function t(e){var n,i,s,r,a=this;return(a=o.call(this,"ClientResponseError")||this).url="",a.status=0,a.response={},a.isAbort=!1,a.originalError=null,Object.setPrototypeOf(a,t.prototype),e instanceof t||(a.originalError=e),e!==null&&typeof e=="object"&&(a.url=typeof e.url=="string"?e.url:"",a.status=typeof e.status=="number"?e.status:0,a.response=e.data!==null&&typeof e.data=="object"?e.data:{},a.isAbort=!!e.isAbort),typeof DOMException<"u"&&e instanceof DOMException&&(a.isAbort=!0),a.name="ClientResponseError "+a.status,a.message=(n=a.response)===null||n===void 0?void 0:n.message,a.message||(a.isAbort?a.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((r=(s=(i=a.originalError)===null||i===void 0?void 0:i.cause)===null||s===void 0?void 0:s.message)===null||r===void 0)&&r.includes("ECONNREFUSED ::1")?a.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":a.message="Something went wrong while processing your request."),a}return M(t,o),Object.defineProperty(t.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return je({},this)},t}(Error),ce=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Ue(o,t,e){var n=Object.assign({},e||{}),i=n.encode||kt;if(!ce.test(o))throw new TypeError("argument name is invalid");var s=i(t);if(s&&!ce.test(s))throw new TypeError("argument val is invalid");var r=o+"="+s;if(n.maxAge!=null){var a=n.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");r+="; Max-Age="+Math.floor(a)}if(n.domain){if(!ce.test(n.domain))throw new TypeError("option domain is invalid");r+="; Domain="+n.domain}if(n.path){if(!ce.test(n.path))throw new TypeError("option path is invalid");r+="; Path="+n.path}if(n.expires){if(!function(l){return Object.prototype.toString.call(l)==="[object Date]"||l instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");r+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r}function gt(o){return o.indexOf("%")!==-1?decodeURIComponent(o):o}function kt(o){return encodeURIComponent(o)}function Xe(o){if(o)try{var t=decodeURIComponent(Ye(o.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function bt(o,t){t===void 0&&(t=0);var e=Xe(o);return!(Object.keys(e).length>0&&(!e.exp||e.exp-t>Date.now()/1e3))}Ye=typeof atob=="function"?atob:function(o){var t=String(o).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,n,i=0,s=0,r="";n=t.charAt(s++);~n&&(e=i%4?64*e+n:n,i++%4)?r+=String.fromCharCode(255&e>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return r};var ae=function(){function o(t){t===void 0&&(t={}),this.$load(t||{})}return o.prototype.load=function(t){return this.$load(t)},o.prototype.$load=function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var i=n[e],s=i[0],r=i[1];this[s]=r}this.id=t.id!==void 0?t.id:"",this.created=t.created!==void 0?t.created:"",this.updated=t.updated!==void 0?t.updated:""},Object.defineProperty(o.prototype,"isNew",{get:function(){return this.$isNew},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),o.prototype.clone=function(){return this.$clone()},o.prototype.$clone=function(){var t=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(t)},o.prototype.export=function(){return this.$export()},o.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},o}(),he=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return M(t,o),t.prototype.$load=function(e){o.prototype.$load.call(this,e),this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.collectionName=typeof e.collectionName=="string"?e.collectionName:"",this._loadExpand(e.expand)},t.prototype._loadExpand=function(e){for(var n in e=e||{},this.expand={},e)Array.isArray(e[n])?this.expand[n]=e[n].map(function(i){return new t(i||{})}):this.expand[n]=new t(e[n]||{})},t}(ae),xe=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return M(t,o),t.prototype.$load=function(e){o.prototype.$load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:""},t}(ae),Fe="pb_auth",yt=function(){function o(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(o.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isValid",{get:function(){return!bt(this.token)},enumerable:!1,configurable:!0}),o.prototype.save=function(t,e){this.baseToken=t||"",this.baseModel=e!==null&&typeof e=="object"?e.collectionId!==void 0?new he(e):new xe(e):null,this.triggerChange()},o.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},o.prototype.loadFromCookie=function(t,e){e===void 0&&(e=Fe);var n=function(r,a){var u={};if(typeof r!="string")return u;for(var l=Object.assign({},a||{}).decode||gt,h=0;h<r.length;){var c=r.indexOf("=",h);if(c===-1)break;var d=r.indexOf(";",h);if(d===-1)d=r.length;else if(d<c){h=r.lastIndexOf(";",c-1)+1;continue}var f=r.slice(h,c).trim();if(u[f]===void 0){var m=r.slice(c+1,d).trim();m.charCodeAt(0)===34&&(m=m.slice(1,-1));try{u[f]=l(m)}catch{u[f]=m}}h=d+1}return u}(t||"")[e]||"",i={};try{(typeof(i=JSON.parse(n))===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)},o.prototype.exportToCookie=function(t,e){var n,i,s;e===void 0&&(e=Fe);var r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},a=Xe(this.token);a!=null&&a.exp?r.expires=new Date(1e3*a.exp):r.expires=new Date("1970-01-01"),t=Object.assign({},r,t);var u={token:this.token,model:((n=this.model)===null||n===void 0?void 0:n.export())||null},l=Ue(e,JSON.stringify(u),t),h=typeof Blob<"u"?new Blob([l]).size:l.length;return u.model&&h>4096&&(u.model={id:(i=u==null?void 0:u.model)===null||i===void 0?void 0:i.id,email:(s=u==null?void 0:u.model)===null||s===void 0?void 0:s.email},this.model instanceof he&&(u.model.username=this.model.username,u.model.verified=this.model.verified,u.model.collectionId=this.model.collectionId),l=Ue(e,JSON.stringify(u),t)),l},o.prototype.onChange=function(t,e){var n=this;return e===void 0&&(e=!1),this._onChangeCallbacks.push(t),e&&t(this.token,this.model),function(){for(var i=n._onChangeCallbacks.length-1;i>=0;i--)if(n._onChangeCallbacks[i]==t)return delete n._onChangeCallbacks[i],void n._onChangeCallbacks.splice(i,1)}},o.prototype.triggerChange=function(){for(var t=0,e=this._onChangeCallbacks;t<e.length;t++){var n=e[t];n&&n(this.token,this.model)}},o}(),vt=function(o){function t(e){e===void 0&&(e="pocketbase_auth");var n=o.call(this)||this;return n.storageFallback={},n.storageKey=e,n}return M(t,o),Object.defineProperty(t.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e,n=this._storageGet(this.storageKey)||{};return n===null||typeof n!="object"||n.model===null||typeof n.model!="object"?null:((e=n.model)===null||e===void 0?void 0:e.collectionId)===void 0?new xe(n.model):new he(n.model)},enumerable:!1,configurable:!0}),t.prototype.save=function(e,n){this._storageSet(this.storageKey,{token:e,model:n}),o.prototype.save.call(this,e,n)},t.prototype.clear=function(){this._storageRemove(this.storageKey),o.prototype.clear.call(this)},t.prototype._storageGet=function(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){var n=window.localStorage.getItem(e)||"";try{return JSON.parse(n)}catch{return n}}return this.storageFallback[e]},t.prototype._storageSet=function(e,n){if(typeof window<"u"&&(window!=null&&window.localStorage)){var i=n;typeof n!="string"&&(i=JSON.stringify(n)),window.localStorage.setItem(e,i)}else this.storageFallback[e]=n},t.prototype._storageRemove=function(e){var n;typeof window<"u"&&(window!=null&&window.localStorage)&&((n=window.localStorage)===null||n===void 0||n.removeItem(e)),delete this.storageFallback[e]},t}(yt),te=function(t){this.client=t},wt=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return M(t,o),t.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(n){return n||{}})},t.prototype.update=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send("/api/settings",{method:"PATCH",params:n,body:e}).then(function(i){return i||{}})},t.prototype.testS3=function(e){return e===void 0&&(e={}),this.client.send("/api/settings/test/s3",{method:"POST",params:e}).then(function(){return!0})},t.prototype.testEmail=function(e,n,i){i===void 0&&(i={});var s={email:e,template:n};return this.client.send("/api/settings/test/email",{method:"POST",params:i,body:s}).then(function(){return!0})},t.prototype.generateAppleClientSecret=function(e,n,i,s,r,a,u){return a===void 0&&(a={}),u===void 0&&(u={}),a=Object.assign({clientId:e,teamId:n,keyId:i,privateKey:s,duration:r},a),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:u,body:a})},t}(te),et=function(t,e,n,i,s){this.page=t>0?t:1,this.perPage=e>=0?e:0,this.totalItems=n>=0?n:0,this.totalPages=i>=0?i:0,this.items=s||[]},Ee=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return M(t,o),t.prototype.getFullList=function(e,n){if(typeof e=="number")return this._getFullList(this.baseCrudPath,e,n);var i=Object.assign({},e,n);return this._getFullList(this.baseCrudPath,i.batch||200,i)},t.prototype.getList=function(e,n,i){return e===void 0&&(e=1),n===void 0&&(n=30),i===void 0&&(i={}),this._getList(this.baseCrudPath,e,n,i)},t.prototype.getFirstListItem=function(e,n){return n===void 0&&(n={}),this._getFirstListItem(this.baseCrudPath,e,n)},t.prototype.getOne=function(e,n){return n===void 0&&(n={}),this._getOne(this.baseCrudPath,e,n)},t.prototype.create=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this._create(this.baseCrudPath,e,n)},t.prototype.update=function(e,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),this._update(this.baseCrudPath,e,n,i)},t.prototype.delete=function(e,n){return n===void 0&&(n={}),this._delete(this.baseCrudPath,e,n)},t}(function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return M(t,o),t.prototype._getFullList=function(e,n,i){var s=this;n===void 0&&(n=200),i===void 0&&(i={});var r=[],a=function(u){return T(s,void 0,void 0,function(){return A(this,function(l){return[2,this._getList(e,u,n||200,i).then(function(h){var c=h,d=c.items,f=c.totalItems;return r=r.concat(d),d.length&&f>r.length?a(u+1):r})]})})};return a(1)},t.prototype._getList=function(e,n,i,s){var r=this;return n===void 0&&(n=1),i===void 0&&(i=30),s===void 0&&(s={}),s=Object.assign({page:n,perPage:i},s),this.client.send(e,{method:"GET",params:s}).then(function(a){var u=[];if(a!=null&&a.items){a.items=a.items||[];for(var l=0,h=a.items;l<h.length;l++){var c=h[l];u.push(r.decode(c))}}return new et((a==null?void 0:a.page)||1,(a==null?void 0:a.perPage)||0,(a==null?void 0:a.totalItems)||0,(a==null?void 0:a.totalPages)||0,u)})},t.prototype._getOne=function(e,n,i){var s=this;return i===void 0&&(i={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"GET",params:i}).then(function(r){return s.decode(r)})},t.prototype._getFirstListItem=function(e,n,i){return i===void 0&&(i={}),i=Object.assign({filter:n,$cancelKey:"one_by_filter_"+e+"_"+n},i),this._getList(e,1,1,i).then(function(s){var r;if(!(!((r=s==null?void 0:s.items)===null||r===void 0)&&r.length))throw new G({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return s.items[0]})},t.prototype._create=function(e,n,i){var s=this;return n===void 0&&(n={}),i===void 0&&(i={}),this.client.send(e,{method:"POST",params:i,body:n}).then(function(r){return s.decode(r)})},t.prototype._update=function(e,n,i,s){var r=this;return i===void 0&&(i={}),s===void 0&&(s={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"PATCH",params:s,body:i}).then(function(a){return r.decode(a)})},t.prototype._delete=function(e,n,i){return i===void 0&&(i={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"DELETE",params:i}).then(function(){return!0})},t}(te)),_t=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return M(t,o),t.prototype.decode=function(e){return new xe(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),t.prototype.update=function(e,n,i){var s=this;return n===void 0&&(n={}),i===void 0&&(i={}),o.prototype.update.call(this,e,n,i).then(function(r){var a,u;return s.client.authStore.model&&((a=s.client.authStore.model)===null||a===void 0?void 0:a.collectionId)===void 0&&((u=s.client.authStore.model)===null||u===void 0?void 0:u.id)===(r==null?void 0:r.id)&&s.client.authStore.save(s.client.authStore.token,r),r})},t.prototype.delete=function(e,n){var i=this;return n===void 0&&(n={}),o.prototype.delete.call(this,e,n).then(function(s){var r,a;return s&&i.client.authStore.model&&((r=i.client.authStore.model)===null||r===void 0?void 0:r.collectionId)===void 0&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.id)===e&&i.client.authStore.clear(),s})},t.prototype.authResponse=function(e){var n=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,n),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:n})},t.prototype.authWithPassword=function(e,n,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({identity:e,password:n},i),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:s,body:i}).then(this.authResponse.bind(this))},t.prototype.authRefresh=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:n,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:e},n),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:i,body:n}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,n,i,s,r){return s===void 0&&(s={}),r===void 0&&(r={}),s=Object.assign({token:e,password:n,passwordConfirm:i},s),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:r,body:s}).then(function(){return!0})},t}(Ee),St=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return M(t,o),t.prototype.$load=function(e){o.prototype.$load.call(this,e),this.recordId=typeof e.recordId=="string"?e.recordId:"",this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},t}(ae),jt=function(o){function t(e,n){var i=o.call(this,e)||this;return i.collectionIdOrName=n,i}return M(t,o),t.prototype.decode=function(e){return new he(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),t.prototype.subscribeOne=function(e,n){return T(this,void 0,void 0,function(){return A(this,function(i){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,n)]})})},t.prototype.subscribe=function(e,n){return T(this,void 0,void 0,function(){var i;return A(this,function(s){if(typeof e=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,e)];if(!n)throw new Error("Missing subscription callback.");if(e==="")throw new Error("Missing topic.");return i=this.collectionIdOrName,e!=="*"&&(i+="/"+e),[2,this.client.realtime.subscribe(i,n)]})})},t.prototype.unsubscribe=function(e){return T(this,void 0,void 0,function(){return A(this,function(n){return e==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:e?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},t.prototype.getFullList=function(e,n){if(typeof e=="number")return o.prototype.getFullList.call(this,e,n);var i=Object.assign({},e,n);return o.prototype.getFullList.call(this,i)},t.prototype.getList=function(e,n,i){return e===void 0&&(e=1),n===void 0&&(n=30),i===void 0&&(i={}),o.prototype.getList.call(this,e,n,i)},t.prototype.getFirstListItem=function(e,n){return n===void 0&&(n={}),o.prototype.getFirstListItem.call(this,e,n)},t.prototype.getOne=function(e,n){return n===void 0&&(n={}),o.prototype.getOne.call(this,e,n)},t.prototype.create=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),o.prototype.create.call(this,e,n)},t.prototype.update=function(e,n,i){var s=this;return n===void 0&&(n={}),i===void 0&&(i={}),o.prototype.update.call(this,e,n,i).then(function(r){var a,u,l;return((a=s.client.authStore.model)===null||a===void 0?void 0:a.id)!==(r==null?void 0:r.id)||((u=s.client.authStore.model)===null||u===void 0?void 0:u.collectionId)!==s.collectionIdOrName&&((l=s.client.authStore.model)===null||l===void 0?void 0:l.collectionName)!==s.collectionIdOrName||s.client.authStore.save(s.client.authStore.token,r),r})},t.prototype.delete=function(e,n){var i=this;return n===void 0&&(n={}),o.prototype.delete.call(this,e,n).then(function(s){var r,a,u;return!s||((r=i.client.authStore.model)===null||r===void 0?void 0:r.id)!==e||((a=i.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==i.collectionIdOrName&&((u=i.client.authStore.model)===null||u===void 0?void 0:u.collectionName)!==i.collectionIdOrName||i.client.authStore.clear(),s})},t.prototype.authResponse=function(e){var n=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,n),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:n})},t.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:e}).then(function(n){return Object.assign({},n,{usernamePassword:!!(n!=null&&n.usernamePassword),emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]})})},t.prototype.authWithPassword=function(e,n,i,s){var r=this;return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({identity:e,password:n},i),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:s,body:i}).then(function(a){return r.authResponse(a)})},t.prototype.authWithOAuth2Code=function(e,n,i,s,r,a,u){var l=this;return r===void 0&&(r={}),a===void 0&&(a={}),u===void 0&&(u={}),a=Object.assign({provider:e,code:n,codeVerifier:i,redirectUrl:s,createData:r},a),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:u,body:a}).then(function(h){return l.authResponse(h)})},t.prototype.authWithOAuth2=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return T(this,void 0,void 0,function(){var i,s,r,a,u=this;return A(this,function(l){switch(l.label){case 0:return e.length>1||typeof(e==null?void 0:e[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{})]):(i=(e==null?void 0:e[0])||{},[4,this.listAuthMethods()]);case 1:if(s=l.sent(),!(r=s.authProviders.find(function(h){return h.name===i.provider})))throw new G(new Error('Missing or invalid provider "'.concat(i.provider,'".')));return a=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(h,c){return T(u,void 0,void 0,function(){var d,f,m,b,w=this;return A(this,function(S){switch(S.label){case 0:return S.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(g){return T(w,void 0,void 0,function(){var y,k,O;return A(this,function(P){switch(P.label){case 0:y=this.client.realtime.clientId,P.label=1;case 1:if(P.trys.push([1,3,,4]),d(),!g.state||y!==g.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(r.name,g.code,r.codeVerifier,a,i.createData)];case 2:return k=P.sent(),h(k),[3,4];case 3:return O=P.sent(),c(new G(O)),[3,4];case 4:return[2]}})})})];case 1:return d=S.sent(),(f=new URL(r.authUrl+a)).searchParams.set("state",this.client.realtime.clientId),!((b=i.scopes)===null||b===void 0)&&b.length&&f.searchParams.set("scope",i.scopes.join(" ")),[4,i.urlCallback?i.urlCallback(f.toString()):this._defaultUrlCallback(f.toString())];case 2:return S.sent(),[3,4];case 3:return m=S.sent(),c(new G(m)),[3,4];case 4:return[2]}})})})]}})})},t.prototype.authRefresh=function(e,n){var i=this;return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:n,body:e}).then(function(s){return i.authResponse(s)})},t.prototype.requestPasswordReset=function(e,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:e},n),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:i,body:n}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,n,i,s,r){return s===void 0&&(s={}),r===void 0&&(r={}),s=Object.assign({token:e,password:n,passwordConfirm:i},s),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:r,body:s}).then(function(){return!0})},t.prototype.requestVerification=function(e,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:e},n),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:i,body:n}).then(function(){return!0})},t.prototype.confirmVerification=function(e,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({token:e},n),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:i,body:n}).then(function(){return!0})},t.prototype.requestEmailChange=function(e,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({newEmail:e},n),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:i,body:n}).then(function(){return!0})},t.prototype.confirmEmailChange=function(e,n,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({token:e,password:n},i),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:s,body:i}).then(function(){return!0})},t.prototype.listExternalAuths=function(e,n){return n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:n}).then(function(i){var s=[];if(Array.isArray(i))for(var r=0,a=i;r<a.length;r++){var u=a[r];s.push(new St(u))}return s})},t.prototype.unlinkExternalAuth=function(e,n,i){return i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(n),{method:"DELETE",params:i}).then(function(){return!0})},t.prototype._defaultUrlCallback=function(e){if(typeof window>"u"||!(window!=null&&window.open))throw new G(new Error("Not in a browser context - please pass a custom urlCallback function."));var n=1024,i=768,s=window.innerWidth,r=window.innerHeight,a=s/2-(n=n>s?s:n)/2,u=r/2-(i=i>r?r:i)/2;window.open(e,"oauth2-popup","width="+n+",height="+i+",top="+u+",left="+a+",resizable,menubar=no")},t}(Ee),Ct=function(t){t===void 0&&(t={}),this.id=t.id!==void 0?t.id:"",this.name=t.name!==void 0?t.name:"",this.type=t.type!==void 0?t.type:"text",this.system=!!t.system,this.required=!!t.required,this.options=typeof t.options=="object"&&t.options!==null?t.options:{}},Ot=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return M(t,o),t.prototype.$load=function(e){o.prototype.$load.call(this,e),this.system=!!e.system,this.name=typeof e.name=="string"?e.name:"",this.type=typeof e.type=="string"?e.type:"base",this.options=e.options!==void 0&&e.options!==null?e.options:{},this.indexes=Array.isArray(e.indexes)?e.indexes:[],this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var n=0,i=e.schema;n<i.length;n++){var s=i[n];this.schema.push(new Ct(s))}},Object.defineProperty(t.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),t}(ae),Pt=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return M(t,o),t.prototype.decode=function(e){return new Ot(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),t.prototype.import=function(e,n,i){return n===void 0&&(n=!1),i===void 0&&(i={}),T(this,void 0,void 0,function(){return A(this,function(s){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:i,body:{collections:e,deleteMissing:n}}).then(function(){return!0})]})})},t}(Ee),Ne=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return M(t,o),t.prototype.$load=function(e){o.prototype.$load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},t}(ae),It=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return M(t,o),t.prototype.getRequestsList=function(e,n,i){return e===void 0&&(e=1),n===void 0&&(n=30),i===void 0&&(i={}),i=Object.assign({page:e,perPage:n},i),this.client.send("/api/logs/requests",{method:"GET",params:i}).then(function(s){var r=[];if(s!=null&&s.items){s.items=(s==null?void 0:s.items)||[];for(var a=0,u=s.items;a<u.length;a++){var l=u[a];r.push(new Ne(l))}}return new et((s==null?void 0:s.page)||1,(s==null?void 0:s.perPage)||0,(s==null?void 0:s.totalItems)||0,(s==null?void 0:s.totalPages)||0,r)})},t.prototype.getRequest=function(e,n){return n===void 0&&(n={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:n}).then(function(i){return new Ne(i)})},t.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(n){return n})},t}(te),xt=function(o){function t(){var e=o!==null&&o.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e.lastSentTopics=[],e.maxConnectTimeout=15e3,e.reconnectAttempts=0,e.maxReconnectAttempts=1/0,e.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],e.pendingConnects=[],e}return M(t,o),Object.defineProperty(t.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e,n){var i;return T(this,void 0,void 0,function(){var s,r=this;return A(this,function(a){switch(a.label){case 0:if(!e)throw new Error("topic must be set.");return s=function(u){var l,h=u;try{l=JSON.parse(h==null?void 0:h.data)}catch{}n(l||{})},this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(s),this.isConnected?[3,2]:[4,this.connect()];case 1:return a.sent(),[3,5];case 2:return this.subscriptions[e].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return a.sent(),[3,5];case 4:(i=this.eventSource)===null||i===void 0||i.addEventListener(e,s),a.label=5;case 5:return[2,function(){return T(r,void 0,void 0,function(){return A(this,function(u){return[2,this.unsubscribeByTopicAndListener(e,s)]})})}]}})})},t.prototype.unsubscribe=function(e){var n;return T(this,void 0,void 0,function(){var i,s,r;return A(this,function(a){switch(a.label){case 0:if(!this.hasSubscriptionListeners(e))return[2];if(e){for(i=0,s=this.subscriptions[e];i<s.length;i++)r=s[i],(n=this.eventSource)===null||n===void 0||n.removeEventListener(e,r);delete this.subscriptions[e]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:a.sent(),a.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByPrefix=function(e){var n;return T(this,void 0,void 0,function(){var i,s,r,a,u;return A(this,function(l){switch(l.label){case 0:for(s in i=!1,this.subscriptions)if(s.startsWith(e)){for(i=!0,r=0,a=this.subscriptions[s];r<a.length;r++)u=a[r],(n=this.eventSource)===null||n===void 0||n.removeEventListener(s,u);delete this.subscriptions[s]}return i?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return l.sent(),[3,3];case 2:this.disconnect(),l.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByTopicAndListener=function(e,n){var i;return T(this,void 0,void 0,function(){var s,r;return A(this,function(a){switch(a.label){case 0:if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)return[2];for(s=!1,r=this.subscriptions[e].length-1;r>=0;r--)this.subscriptions[e][r]===n&&(s=!0,delete this.subscriptions[e][r],this.subscriptions[e].splice(r,1),(i=this.eventSource)===null||i===void 0||i.removeEventListener(e,n));return s?(this.subscriptions[e].length||delete this.subscriptions[e],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:a.sent(),a.label=3;case 3:return[2]}})})},t.prototype.hasSubscriptionListeners=function(e){var n,i;if(this.subscriptions=this.subscriptions||{},e)return!!(!((n=this.subscriptions[e])===null||n===void 0)&&n.length);for(var s in this.subscriptions)if(!((i=this.subscriptions[s])===null||i===void 0)&&i.length)return!0;return!1},t.prototype.submitSubscriptions=function(){return T(this,void 0,void 0,function(){return A(this,function(e){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(n){if(!(n!=null&&n.isAbort))throw n})]):[2]})})},t.prototype.getNonEmptySubscriptionTopics=function(){var e=[];for(var n in this.subscriptions)this.subscriptions[n].length&&e.push(n);return e},t.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeAllSubscriptionListeners(),this.subscriptions)for(var n=0,i=this.subscriptions[e];n<i.length;n++){var s=i[n];this.eventSource.addEventListener(e,s)}},t.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)for(var n=0,i=this.subscriptions[e];n<i.length;n++){var s=i[n];this.eventSource.removeEventListener(e,s)}},t.prototype.connect=function(){return T(this,void 0,void 0,function(){var e=this;return A(this,function(n){return this.reconnectAttempts>0?[2]:[2,new Promise(function(i,s){e.pendingConnects.push({resolve:i,reject:s}),e.pendingConnects.length>1||e.initConnect()})]})})},t.prototype.initConnect=function(){var e=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){e.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(n){e.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(n){var i=n;e.clientId=i==null?void 0:i.lastEventId,e.submitSubscriptions().then(function(){return T(e,void 0,void 0,function(){var s;return A(this,function(r){switch(r.label){case 0:s=3,r.label=1;case 1:return this.hasUnsentSubscriptions()&&s>0?(s--,[4,this.submitSubscriptions()]):[3,3];case 2:return r.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var s=0,r=e.pendingConnects;s<r.length;s++)r[s].resolve();e.pendingConnects=[],e.reconnectAttempts=0,clearTimeout(e.reconnectTimeoutId),clearTimeout(e.connectTimeoutId)}).catch(function(s){e.clientId="",e.connectErrorHandler(s)})})},t.prototype.hasUnsentSubscriptions=function(){var e=this.getNonEmptySubscriptionTopics();if(e.length!=this.lastSentTopics.length)return!0;for(var n=0,i=e;n<i.length;n++){var s=i[n];if(!this.lastSentTopics.includes(s))return!0}return!1},t.prototype.connectErrorHandler=function(e){var n=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var i=0,s=this.pendingConnects;i<s.length;i++)s[i].reject(new G(e));this.disconnect()}else{this.disconnect(!0);var r=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){n.initConnect()},r)}},t.prototype.disconnect=function(e){var n;if(e===void 0&&(e=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(n=this.eventSource)===null||n===void 0||n.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(var i=new G(new Error("Realtime disconnected.")),s=0,r=this.pendingConnects;s<r.length;s++)r[s].reject(i);this.pendingConnects=[]}},t}(te),Et=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return M(t,o),t.prototype.check=function(e){return e===void 0&&(e={}),this.client.send("/api/health",{method:"GET",params:e})},t}(te),Tt=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return M(t,o),t.prototype.getUrl=function(e,n,i){i===void 0&&(i={});var s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(e.collectionId||e.collectionName)),s.push(encodeURIComponent(e.id)),s.push(encodeURIComponent(n));var r=this.client.buildUrl(s.join("/"));if(Object.keys(i).length){var a=new URLSearchParams(i);r+=(r.includes("?")?"&":"?")+a}return r},t.prototype.getToken=function(e){return e===void 0&&(e={}),this.client.send("/api/files/token",{method:"POST",params:e}).then(function(n){return(n==null?void 0:n.token)||""})},t}(te),At=function(){function o(t,e,n){t===void 0&&(t="/"),n===void 0&&(n="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=n,this.authStore=e||new vt,this.admins=new _t(this),this.collections=new Pt(this),this.files=new Tt(this),this.logs=new It(this),this.settings=new wt(this),this.realtime=new xt(this),this.health=new Et(this)}return o.prototype.collection=function(t){return this.recordServices[t]||(this.recordServices[t]=new jt(this,t)),this.recordServices[t]},o.prototype.autoCancellation=function(t){return this.enableAutoCancellation=!!t,this},o.prototype.cancelRequest=function(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this},o.prototype.cancelAllRequests=function(){for(var t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this},o.prototype.send=function(t,e){var n,i,s,r,a,u,l,h;return T(this,void 0,void 0,function(){var c,d,f,m,b,w,S,g,y,k=this;return A(this,function(O){switch(O.label){case 0:return c=Object.assign({method:"GET"},e),this.isFormData(c.body)||(c.body&&typeof c.body!="string"&&(c.body=JSON.stringify(c.body)),((n=c==null?void 0:c.headers)===null||n===void 0?void 0:n["Content-Type"])===void 0&&(c.headers=Object.assign({},c.headers,{"Content-Type":"application/json"}))),((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i["Accept-Language"])===void 0&&(c.headers=Object.assign({},c.headers,{"Accept-Language":this.lang})),!((s=this.authStore)===null||s===void 0)&&s.token&&((r=c==null?void 0:c.headers)===null||r===void 0?void 0:r.Authorization)===void 0&&(c.headers=Object.assign({},c.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((a=c.params)===null||a===void 0?void 0:a.$autoCancel)!==!1&&(d=((u=c.params)===null||u===void 0?void 0:u.$cancelKey)||(c.method||"GET")+t,this.cancelRequest(d),f=new AbortController,this.cancelControllers[d]=f,c.signal=f.signal),(l=c.params)===null||l===void 0||delete l.$autoCancel,(h=c.params)===null||h===void 0||delete h.$cancelKey,m=this.buildUrl(t),c.params!==void 0&&((b=this.serializeQueryParams(c.params))&&(m+=(m.includes("?")?"&":"?")+b),delete c.params),this.beforeSend?(g=(S=Object).assign,y=[{}],[4,this.beforeSend(m,c)]):[3,2];case 1:(w=g.apply(S,y.concat([O.sent()]))).url!==void 0||w.options!==void 0?(m=w.url||m,c=w.options||c):Object.keys(w).length&&(c=w,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),O.label=2;case 2:return[2,fetch(m,c).then(function(P){return T(k,void 0,void 0,function(){var C;return A(this,function(j){switch(j.label){case 0:C={},j.label=1;case 1:return j.trys.push([1,3,,4]),[4,P.json()];case 2:return C=j.sent(),[3,4];case 3:return j.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(P,C)]:[3,6];case 5:C=j.sent(),j.label=6;case 6:if(P.status>=400)throw new G({url:P.url,status:P.status,data:C});return[2,C]}})})}).catch(function(P){throw new G(P)})]}})})},o.prototype.getFileUrl=function(t,e,n){return n===void 0&&(n={}),this.files.getUrl(t,e,n)},o.prototype.buildUrl=function(t){var e=this.baseUrl+(this.baseUrl.endsWith("/")?"":"/");return t&&(e+=t.startsWith("/")?t.substring(1):t),e},o.prototype.isFormData=function(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)},o.prototype.serializeQueryParams=function(t){var e=[];for(var n in t)if(t[n]!==null){var i=t[n],s=encodeURIComponent(n);if(Array.isArray(i))for(var r=0,a=i;r<a.length;r++){var u=a[r];e.push(s+"="+encodeURIComponent(u))}else i instanceof Date?e.push(s+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?e.push(s+"="+encodeURIComponent(JSON.stringify(i))):e.push(s+"="+encodeURIComponent(i))}return e.join("&")},o}();const K=[];function Rt(o,t=F){let e;const n=new Set;function i(a){if(ee(o,a)&&(o=a,e)){const u=!K.length;for(const l of n)l[1](),K.push(l,o);if(u){for(let l=0;l<K.length;l+=2)K[l][0](K[l+1]);K.length=0}}}function s(a){i(a(o))}function r(a,u=F){const l=[a,u];return n.add(l),n.size===1&&(e=t(i)||F),a(o),()=>{n.delete(l),n.size===0&&e&&(e(),e=null)}}return{set:i,update:s,subscribe:r}}const R=new At("http://127.0.0.1:8090"),de=Rt(R.authStore.model);R.authStore.onChange(o=>{console.log("authStore changed",o),de.set(R.authStore.model)});const Lt=o=>({}),$e=o=>({});function zt(o){let t,e,n,i,s,r;const a=o[3].header,u=Re(a,o,o[2],$e),l=o[3].default,h=Re(l,o,o[2],null);return{c(){t=_("dialog"),e=_("div"),u&&u.c(),n=I(),h&&h.c(),v(e,"class","svelte-4aggxa"),v(t,"class","modal svelte-4aggxa")},m(c,d){z(c,t,d),p(t,e),u&&u.m(e,null),p(e,n),h&&h.m(e,null),o[5](t),i=!0,s||(r=[E(e,"click",st(o[4])),E(t,"close",o[6])],s=!0)},p(c,[d]){u&&u.p&&(!i||d&4)&&ze(u,a,c,c[2],i?Le(a,c[2],d,Lt):Me(c[2]),$e),h&&h.p&&(!i||d&4)&&ze(h,l,c,c[2],i?Le(l,c[2],d,null):Me(c[2]),null)},i(c){i||(q(u,c),q(h,c),i=!0)},o(c){D(u,c),D(h,c),i=!1},d(c){c&&L(t),u&&u.d(c),h&&h.d(c),o[5](null),s=!1,N(r)}}}function Mt(o,t,e){let{$$slots:n={},$$scope:i}=t,{showModal:s}=t,r;function a(h){ke.call(this,o,h)}function u(h){Q[h?"unshift":"push"](()=>{r=h,e(1,r)})}const l=()=>e(0,s=!1);return o.$$set=h=>{"showModal"in h&&e(0,s=h.showModal),"$$scope"in h&&e(2,i=h.$$scope)},o.$$.update=()=>{o.$$.dirty&3&&r&&s&&r.showModal(),o.$$.dirty&3&&r&&!s&&r.close()},[s,r,i,n,a,u,l]}class qe extends re{constructor(t){super(),se(this,t,Mt,zt,ee,{showModal:0})}}function Ut(o){let t,e,n,i,s,r,a,u,l,h,c,d,f,m,b;function w(k){o[17](k)}let S={$$slots:{header:[$t],default:[Nt]},$$scope:{ctx:o}};o[3]!==void 0&&(S.showModal=o[3]),t=new qe({props:S}),Q.push(()=>_e(t,"showModal",w));function g(k){o[23](k)}let y={$$slots:{header:[Dt],default:[qt]},$$scope:{ctx:o}};return o[4]!==void 0&&(y.showModal=o[4]),i=new qe({props:y}),Q.push(()=>_e(i,"showModal",g)),{c(){oe(t.$$.fragment),n=I(),oe(i.$$.fragment),r=I(),a=_("div"),u=_("button"),u.textContent="Sign Up",l=I(),h=_("button"),h.textContent="Login",c=I(),d=_("button"),d.textContent="Scroll Down",v(u,"class","btn"),v(h,"class","btn"),v(d,"class","btn"),v(a,"class","user-out")},m(k,O){Y(t,k,O),z(k,n,O),Y(i,k,O),z(k,r,O),z(k,a,O),p(a,u),p(a,l),p(a,h),p(a,c),p(a,d),f=!0,m||(b=[E(u,"click",o[24]),E(h,"click",o[25]),E(d,"click",o[26])],m=!0)},p(k,O){const P={};O&134217741&&(P.$$scope={dirty:O,ctx:k}),!e&&O&8&&(e=!0,P.showModal=k[3],we(()=>e=!1)),t.$set(P);const C={};O&134217783&&(C.$$scope={dirty:O,ctx:k}),!s&&O&16&&(s=!0,C.showModal=k[4],we(()=>s=!1)),i.$set(C)},i(k){f||(q(t.$$.fragment,k),q(i.$$.fragment,k),f=!0)},o(k){D(t.$$.fragment,k),D(i.$$.fragment,k),f=!1},d(k){X(t,k),k&&L(n),X(i,k),k&&L(r),k&&L(a),m=!1,N(b)}}}function Ft(o){let t,e,n,i=o[6].username+"",s,r,a,u,l,h,c;return{c(){t=_("p"),e=_("span"),n=W("Signed in as "),s=W(i),r=I(),a=_("button"),a.textContent="Sign Out",u=I(),l=_("button"),l.textContent="Scroll Down",v(a,"class","btn logout-btn"),v(l,"class","btn"),v(t,"class","user-in")},m(d,f){z(d,t,f),p(t,e),p(e,n),p(e,s),p(t,r),p(t,a),p(t,u),p(t,l),h||(c=[E(a,"click",o[9]),E(l,"click",o[12])],h=!0)},p(d,f){f&64&&i!==(i=d[6].username+"")&&Ie(s,i)},i:F,o:F,d(d){d&&L(t),h=!1,N(c)}}}function Nt(o){let t,e,n,i,s,r,a,u,l,h,c,d;return{c(){t=_("form"),e=_("input"),n=I(),i=_("input"),s=I(),r=_("button"),r.textContent="Login",a=I(),u=_("button"),u.textContent="Cancel",l=I(),h=_("form"),v(e,"placeholder","Username"),v(e,"type","text"),v(i,"placeholder","Password"),v(i,"type","password"),v(r,"class","btn"),v(u,"class","btn"),v(t,"class","form")},m(f,m){z(f,t,m),p(t,e),$(e,o[0]),p(t,n),p(t,i),$(i,o[2]),p(t,s),p(t,r),p(t,a),p(t,u),p(t,l),p(t,h),c||(d=[E(e,"input",o[13]),E(i,"input",o[14]),E(r,"click",o[15]),E(u,"click",o[16]),E(t,"submit",Pe(o[11]))],c=!0)},p(f,m){m&1&&e.value!==f[0]&&$(e,f[0]),m&4&&i.value!==f[2]&&$(i,f[2])},d(f){f&&L(t),c=!1,N(d)}}}function $t(o){let t;return{c(){t=_("h2"),t.textContent="Login",v(t,"slot","header")},m(e,n){z(e,t,n)},p:F,d(e){e&&L(t)}}}function qt(o){let t,e,n,i,s,r,a,u,l,h,c,d,f,m;return{c(){t=_("form"),e=_("input"),n=I(),i=_("input"),s=I(),r=_("input"),a=I(),u=_("button"),u.textContent="Sign Up",l=I(),h=_("button"),h.textContent="Cancel",c=I(),d=_("form"),v(e,"placeholder","Username"),v(e,"type","text"),v(i,"placeholder","Email"),v(i,"type","email"),v(r,"placeholder","Password"),v(r,"type","password"),v(u,"class","btn"),v(h,"class","btn"),v(t,"class","form")},m(b,w){z(b,t,w),p(t,e),$(e,o[0]),p(t,n),p(t,i),$(i,o[1]),p(t,s),p(t,r),$(r,o[2]),p(t,a),p(t,u),p(t,l),p(t,h),p(t,c),p(t,d),f||(m=[E(e,"input",o[18]),E(i,"input",o[19]),E(r,"input",o[20]),E(u,"click",o[21]),E(h,"click",o[22]),E(t,"submit",Pe(o[10]))],f=!0)},p(b,w){w&1&&e.value!==b[0]&&$(e,b[0]),w&2&&i.value!==b[1]&&$(i,b[1]),w&4&&r.value!==b[2]&&$(r,b[2])},d(b){b&&L(t),f=!1,N(m)}}}function De(o){let t;return{c(){t=W("- Please verify your email address!")},m(e,n){z(e,t,n)},d(e){e&&L(t)}}}function Dt(o){let t,e,n=o[5]&&De();return{c(){t=_("h2"),e=W("Sign Up "),n&&n.c(),v(t,"slot","header")},m(i,s){z(i,t,s),p(t,e),n&&n.m(t,null)},p(i,s){i[5]?n||(n=De(),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},d(i){i&&L(t),n&&n.d()}}}function Bt(o){let t,e,n,i,s,r;const a=[Ft,Ut],u=[];function l(h,c){return h[6]?0:1}return i=l(o),s=u[i]=a[i](o),{c(){t=_("div"),e=_("h1"),e.textContent="Souvlaki Chat",n=I(),s.c(),v(t,"class","header")},m(h,c){z(h,t,c),p(t,e),p(t,n),u[i].m(t,null),r=!0},p(h,[c]){let d=i;i=l(h),i===d?u[i].p(h,c):(Ze(),D(u[d],1,1,()=>{u[d]=null}),Qe(),s=u[i],s?s.p(h,c):(s=u[i]=a[i](h),s.c()),q(s,1),s.m(t,null))},i(h){r||(q(s),r=!0)},o(h){D(s),r=!1},d(h){h&&L(t),u[i].d()}}}function Gt(o,t,e){let n;Oe(o,de,U=>e(6,n=U));let i="",s="",r="",a=!1,u=!1,l=!1;async function h(){const U=await R.collection("users").authWithPassword(i,r);R.authStore.model.verified||R.authStore.clear(),console.log(U)}async function c(){try{const U={username:i,name:i,email:s,password:r,passwordConfirm:r};await R.collection("users").create(U),await R.collection("users").requestVerification(s)}catch(U){console.error(U)}}function d(){R.authStore.clear()}function f(U){ke.call(this,o,U)}function m(U){ke.call(this,o,U)}const b=()=>window.scrollTo(0,document.body.scrollHeight);function w(){i=this.value,e(0,i)}function S(){r=this.value,e(2,r)}const g=()=>{h(),e(3,a=!1)},y=()=>e(3,a=!1);function k(U){a=U,e(3,a)}function O(){i=this.value,e(0,i)}function P(){s=this.value,e(1,s)}function C(){r=this.value,e(2,r)}const j=()=>{c(),e(5,l=!0)},x=()=>{e(4,u=!1),e(5,l=!1)};function B(U){u=U,e(4,u)}return[i,s,r,a,u,l,n,h,c,d,f,m,b,w,S,g,y,k,O,P,C,j,x,B,()=>{e(4,u=!0),e(0,i=""),e(1,s=""),e(2,r="")},()=>{e(3,a=!0),e(0,i=""),e(1,s=""),e(2,r="")},()=>window.scrollTo(0,document.body.scrollHeight)]}class Wt extends re{constructor(t){super(),se(this,t,Gt,Bt,ee,{})}}const Ht=["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagg0t","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fuck","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger;","nigur;","niiger;","niigr;","orafis","orgasim;","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","qweir","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slag","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","ass","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","masturbate","masterbat*","masterbat3","motherfucker","s.o.b.","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi+","sh!+","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","*damn","*dyke","*fuck*","*shit*","@$$","amcik","andskota","arse*","assrammer","ayir","bi7ch","bitch*","bollock*","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock*","cunt*","d4mn","daygo","dego","dick*","dike*","dupa","dziwka","ejackulate","Ekrem*","Ekto","enculer","faen","fag*","fanculo","fanny","feces","feg","Felcher","ficken","fitt*","Flikker","foreskin","Fotze","Fu(*","fuk*","futkretzn","gook","guiena","h0r","h4x0r","hell","helvete","hoer*","honkey","Huevon","hui","injun","jizz","kanker*","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi*","kyrpa*","lesbo","mamhoon","masturbat*","merd*","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger*","orospu","paska*","perse","picka","pierdol*","pillu*","pimmel","piss*","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef*","rautenberg","schaffer","scheiss*","schlampe","schmuck","screw","sh!t*","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b*","testicle*","titt*","twat","vittu","wank*","wetback*","wichser","wop*","yed","zabourah"],Jt={words:Ht};var Kt={"4r5e":1,"5h1t":1,"5hit":1,a55:1,anal:1,anus:1,ar5e:1,arrse:1,arse:1,ass:1,"ass-fucker":1,asses:1,assfucker:1,assfukka:1,asshole:1,assholes:1,asswhole:1,a_s_s:1,"b!tch":1,b00bs:1,b17ch:1,b1tch:1,ballbag:1,balls:1,ballsack:1,bastard:1,beastial:1,beastiality:1,bellend:1,bestial:1,bestiality:1,"bi+ch":1,biatch:1,bitch:1,bitcher:1,bitchers:1,bitches:1,bitchin:1,bitching:1,bloody:1,"blow job":1,blowjob:1,blowjobs:1,boiolas:1,bollock:1,bollok:1,boner:1,boob:1,boobs:1,booobs:1,boooobs:1,booooobs:1,booooooobs:1,breasts:1,buceta:1,bugger:1,bum:1,"bunny fucker":1,butt:1,butthole:1,buttmuch:1,buttplug:1,c0ck:1,c0cksucker:1,"carpet muncher":1,cawk:1,chink:1,cipa:1,cl1t:1,clit:1,clitoris:1,clits:1,cnut:1,cock:1,"cock-sucker":1,cockface:1,cockhead:1,cockmunch:1,cockmuncher:1,cocks:1,cocksuck:1,cocksucked:1,cocksucker:1,cocksucking:1,cocksucks:1,cocksuka:1,cocksukka:1,cok:1,cokmuncher:1,coksucka:1,coon:1,cox:1,crap:1,cum:1,cummer:1,cumming:1,cums:1,cumshot:1,cunilingus:1,cunillingus:1,cunnilingus:1,cunt:1,cuntlick:1,cuntlicker:1,cuntlicking:1,cunts:1,cyalis:1,cyberfuc:1,cyberfuck:1,cyberfucked:1,cyberfucker:1,cyberfuckers:1,cyberfucking:1,d1ck:1,damn:1,dick:1,dickhead:1,dildo:1,dildos:1,dink:1,dinks:1,dirsa:1,dlck:1,"dog-fucker":1,doggin:1,dogging:1,donkeyribber:1,doosh:1,duche:1,dyke:1,ejaculate:1,ejaculated:1,ejaculates:1,ejaculating:1,ejaculatings:1,ejaculation:1,ejakulate:1,"f u c k":1,"f u c k e r":1,f4nny:1,fag:1,fagging:1,faggitt:1,faggot:1,faggs:1,fagot:1,fagots:1,fags:1,fanny:1,fannyflaps:1,fannyfucker:1,fanyy:1,fatass:1,fcuk:1,fcuker:1,fcuking:1,feck:1,fecker:1,felching:1,fellate:1,fellatio:1,fingerfuck:1,fingerfucked:1,fingerfucker:1,fingerfuckers:1,fingerfucking:1,fingerfucks:1,fistfuck:1,fistfucked:1,fistfucker:1,fistfuckers:1,fistfucking:1,fistfuckings:1,fistfucks:1,flange:1,fook:1,fooker:1,fuck:1,fucka:1,fucked:1,fucker:1,fuckers:1,fuckhead:1,fuckheads:1,fuckin:1,fucking:1,fuckings:1,fuckingshitmotherfucker:1,fuckme:1,fucks:1,fuckwhit:1,fuckwit:1,"fudge packer":1,fudgepacker:1,fuk:1,fuker:1,fukker:1,fukkin:1,fuks:1,fukwhit:1,fukwit:1,fux:1,fux0r:1,f_u_c_k:1,gangbang:1,gangbanged:1,gangbangs:1,gaylord:1,gaysex:1,goatse:1,God:1,"god-dam":1,"god-damned":1,goddamn:1,goddamned:1,hardcoresex:1,hell:1,heshe:1,hoar:1,hoare:1,hoer:1,homo:1,hore:1,horniest:1,horny:1,hotsex:1,"jack-off":1,jackoff:1,jap:1,"jerk-off":1,jism:1,jiz:1,jizm:1,jizz:1,kawk:1,knob:1,knobead:1,knobed:1,knobend:1,knobhead:1,knobjocky:1,knobjokey:1,kock:1,kondum:1,kondums:1,kum:1,kummer:1,kumming:1,kums:1,kunilingus:1,"l3i+ch":1,l3itch:1,labia:1,lust:1,lusting:1,m0f0:1,m0fo:1,m45terbate:1,ma5terb8:1,ma5terbate:1,masochist:1,"master-bate":1,masterb8:1,"masterbat*":1,masterbat3:1,masterbate:1,masterbation:1,masterbations:1,masturbate:1,"mo-fo":1,mof0:1,mofo:1,mothafuck:1,mothafucka:1,mothafuckas:1,mothafuckaz:1,mothafucked:1,mothafucker:1,mothafuckers:1,mothafuckin:1,mothafucking:1,mothafuckings:1,mothafucks:1,"mother fucker":1,motherfuck:1,motherfucked:1,motherfucker:1,motherfuckers:1,motherfuckin:1,motherfucking:1,motherfuckings:1,motherfuckka:1,motherfucks:1,muff:1,mutha:1,muthafecker:1,muthafuckker:1,muther:1,mutherfucker:1,n1gga:1,n1gger:1,nazi:1,nigg3r:1,nigg4h:1,nigga:1,niggah:1,niggas:1,niggaz:1,nigger:1,niggers:1,nob:1,"nob jokey":1,nobhead:1,nobjocky:1,nobjokey:1,numbnuts:1,nutsack:1,orgasim:1,orgasims:1,orgasm:1,orgasms:1,p0rn:1,pawn:1,pecker:1,penis:1,penisfucker:1,phonesex:1,phuck:1,phuk:1,phuked:1,phuking:1,phukked:1,phukking:1,phuks:1,phuq:1,pigfucker:1,pimpis:1,piss:1,pissed:1,pisser:1,pissers:1,pisses:1,pissflaps:1,pissin:1,pissing:1,pissoff:1,poop:1,porn:1,porno:1,pornography:1,pornos:1,prick:1,pricks:1,pron:1,pube:1,pusse:1,pussi:1,pussies:1,pussy:1,pussys:1,rectum:1,retard:1,rimjaw:1,rimming:1,"s hit":1,"s.o.b.":1,sadist:1,schlong:1,screwing:1,scroat:1,scrote:1,scrotum:1,semen:1,sex:1,"sh!+":1,"sh!t":1,sh1t:1,shag:1,shagger:1,shaggin:1,shagging:1,shemale:1,"shi+":1,shit:1,shitdick:1,shite:1,shited:1,shitey:1,shitfuck:1,shitfull:1,shithead:1,shiting:1,shitings:1,shits:1,shitted:1,shitter:1,shitters:1,shitting:1,shittings:1,shitty:1,skank:1,slut:1,sluts:1,smegma:1,smut:1,snatch:1,"son-of-a-bitch":1,spac:1,spunk:1,s_h_i_t:1,t1tt1e5:1,t1tties:1,teets:1,teez:1,testical:1,testicle:1,tit:1,titfuck:1,tits:1,titt:1,tittie5:1,tittiefucker:1,titties:1,tittyfuck:1,tittywank:1,titwank:1,tosser:1,turd:1,tw4t:1,twat:1,twathead:1,twatty:1,twunt:1,twunter:1,v14gra:1,v1gra:1,vagina:1,viagra:1,vulva:1,w00se:1,wang:1,wank:1,wanker:1,wanky:1,whoar:1,whore:1,willies:1,willy:1,xrated:1,xxx:1},Vt=["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","bunny fucker","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","God","god-dam","god-damned","goddamn","goddamned","hardcoresex","hell","heshe","hoar","hoare","hoer","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","muther","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx"],Zt=/\b(4r5e|5h1t|5hit|a55|anal|anus|ar5e|arrse|arse|ass|ass-fucker|asses|assfucker|assfukka|asshole|assholes|asswhole|a_s_s|b!tch|b00bs|b17ch|b1tch|ballbag|balls|ballsack|bastard|beastial|beastiality|bellend|bestial|bestiality|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|bitchin|bitching|bloody|blow job|blowjob|blowjobs|boiolas|bollock|bollok|boner|boob|boobs|booobs|boooobs|booooobs|booooooobs|breasts|buceta|bugger|bum|bunny fucker|butt|butthole|buttmuch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cipa|cl1t|clit|clitoris|clits|cnut|cock|cock-sucker|cockface|cockhead|cockmunch|cockmuncher|cocks|cocksuck|cocksucked|cocksucker|cocksucking|cocksucks|cocksuka|cocksukka|cok|cokmuncher|coksucka|coon|cox|crap|cum|cummer|cumming|cums|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cuntlick|cuntlicker|cuntlicking|cunts|cyalis|cyberfuc|cyberfuck|cyberfucked|cyberfucker|cyberfuckers|cyberfucking|d1ck|damn|dick|dickhead|dildo|dildos|dink|dinks|dirsa|dlck|dog-fucker|doggin|dogging|donkeyribber|doosh|duche|dyke|ejaculate|ejaculated|ejaculates|ejaculating|ejaculatings|ejaculation|ejakulate|f u c k|f u c k e r|f4nny|fag|fagging|faggitt|faggot|faggs|fagot|fagots|fags|fanny|fannyflaps|fannyfucker|fanyy|fatass|fcuk|fcuker|fcuking|feck|fecker|felching|fellate|fellatio|fingerfuck|fingerfucked|fingerfucker|fingerfuckers|fingerfucking|fingerfucks|fistfuck|fistfucked|fistfucker|fistfuckers|fistfucking|fistfuckings|fistfucks|flange|fook|fooker|fuck|fucka|fucked|fucker|fuckers|fuckhead|fuckheads|fuckin|fucking|fuckings|fuckingshitmotherfucker|fuckme|fucks|fuckwhit|fuckwit|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux|fux0r|f_u_c_k|gangbang|gangbanged|gangbangs|gaylord|gaysex|goatse|God|god-dam|god-damned|goddamn|goddamned|hardcoresex|hell|heshe|hoar|hoare|hoer|homo|hore|horniest|horny|hotsex|jack-off|jackoff|jap|jerk-off|jism|jiz|jizm|jizz|kawk|knob|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kock|kondum|kondums|kum|kummer|kumming|kums|kunilingus|l3i\+ch|l3itch|labia|lust|lusting|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat3|masterbate|masterbation|masterbations|masturbate|mo-fo|mof0|mofo|mothafuck|mothafucka|mothafuckas|mothafuckaz|mothafucked|mothafucker|mothafuckers|mothafuckin|mothafucking|mothafuckings|mothafucks|mother fucker|motherfuck|motherfucked|motherfucker|motherfuckers|motherfuckin|motherfucking|motherfuckings|motherfuckka|motherfucks|muff|mutha|muthafecker|muthafuckker|muther|mutherfucker|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|nob|nob jokey|nobhead|nobjocky|nobjokey|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|pawn|pecker|penis|penisfucker|phonesex|phuck|phuk|phuked|phuking|phukked|phukking|phuks|phuq|pigfucker|pimpis|piss|pissed|pisser|pissers|pisses|pissflaps|pissin|pissing|pissoff|poop|porn|porno|pornography|pornos|prick|pricks|pron|pube|pusse|pussi|pussies|pussy|pussys|rectum|retard|rimjaw|rimming|s hit|s.o.b.|sadist|schlong|screwing|scroat|scrote|scrotum|semen|sex|sh!\+|sh!t|sh1t|shag|shagger|shaggin|shagging|shemale|shi\+|shit|shitdick|shite|shited|shitey|shitfuck|shitfull|shithead|shiting|shitings|shits|shitted|shitter|shitters|shitting|shittings|shitty|skank|slut|sluts|smegma|smut|snatch|son-of-a-bitch|spac|spunk|s_h_i_t|t1tt1e5|t1tties|teets|teez|testical|testicle|tit|titfuck|tits|titt|tittie5|tittiefucker|titties|tittyfuck|tittywank|titwank|tosser|turd|tw4t|twat|twathead|twatty|twunt|twunter|v14gra|v1gra|vagina|viagra|vulva|w00se|wang|wank|wanker|wanky|whoar|whore|willies|willy|xrated|xxx)\b/gi,Qt={object:Kt,array:Vt,regex:Zt};const Yt=Jt.words,Xt=Qt.array;class en{constructor(t={}){Object.assign(this,{list:t.emptyList&&[]||Array.prototype.concat.apply(Yt,[Xt,t.list||[]]),exclude:t.exclude||[],splitRegex:t.splitRegex||/\b/,placeHolder:t.placeHolder||"*",regex:t.regex||/[^a-zA-Z0-9|\$|\@]|\^/g,replaceRegex:t.replaceRegex||/\w/g})}isProfane(t){return this.list.filter(e=>{const n=new RegExp(`\\b${e.replace(/(\W)/g,"\\$1")}\\b`,"gi");return!this.exclude.includes(e.toLowerCase())&&n.test(t)}).length>0||!1}replaceWord(t){return t.replace(this.regex,"").replace(this.replaceRegex,this.placeHolder)}clean(t){return t.split(this.splitRegex).map(e=>this.isProfane(e)?this.replaceWord(e):e).join(this.splitRegex.exec(t)[0])}addWords(){let t=Array.from(arguments);this.list.push(...t),t.map(e=>e.toLowerCase()).forEach(e=>{this.exclude.includes(e)&&this.exclude.splice(this.exclude.indexOf(e),1)})}removeWords(){this.exclude.push(...Array.from(arguments).map(t=>t.toLowerCase()))}}var tn=en;function Be(o){return o=nn(o),o=on(o),o}function nn(o){const t=/(?:(?:https?|s?ftp):\/\/)?(?:www\.)?[a-zA-Z0-9_-]+(?:\.[a-zA-Z0-9_-]+)+(?:\/[\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?/gi;return o.replace(t,e=>`<a href="${e}" target="_blank" class="link">${e}</a>`)}function on(o){return new tn().clean(o)}function sn(o){var P,C;let t,e,n,i,s,r,a,u=((C=(P=o[0].expand)==null?void 0:P.user)==null?void 0:C.username)+"",l,h,c,d,f,m,b,w,S,g,y=Be(o[0].text)+"",k,O;return{c(){var j,x;t=_("div"),e=_("div"),n=_("img"),s=I(),r=_("small"),a=W("Sent by @"),l=W(u),h=I(),c=_("div"),d=_("i"),f=I(),m=_("i"),w=I(),S=_("div"),g=_("p"),v(n,"class","avatar"),Ae(n.src,i=`https://avatars.dicebear.com/api/identicon/${(x=(j=o[0].expand)==null?void 0:j.user)==null?void 0:x.username}.svg`)||v(n,"src",i),v(n,"alt","avatar"),v(n,"width","40px"),v(d,"class","fas fa-edit edit-icon"),v(m,"class","fas fa-trash delete-icon"),v(c,"class",b=`msg-icons ${!o[2]||!o[0].expand.user.id||o[2].id!==o[0].expand.user.id?"hidden":""}`),v(e,"class","msg-header"),v(g,"class","msg-text"),v(t,"class","msg")},m(j,x){z(j,t,x),p(t,e),p(e,n),p(e,s),p(e,r),p(r,a),p(r,l),p(e,h),p(e,c),p(c,d),p(c,f),p(c,m),p(t,w),p(t,S),p(S,g),g.innerHTML=y,k||(O=[E(d,"click",o[4]),E(m,"click",o[5])],k=!0)},p(j,[x]){var B,fe,pe,me;x&1&&!Ae(n.src,i=`https://avatars.dicebear.com/api/identicon/${(fe=(B=j[0].expand)==null?void 0:B.user)==null?void 0:fe.username}.svg`)&&v(n,"src",i),x&1&&u!==(u=((me=(pe=j[0].expand)==null?void 0:pe.user)==null?void 0:me.username)+"")&&Ie(l,u),x&5&&b!==(b=`msg-icons ${!j[2]||!j[0].expand.user.id||j[2].id!==j[0].expand.user.id?"hidden":""}`)&&v(c,"class",b),x&1&&y!==(y=Be(j[0].text)+"")&&(g.innerHTML=y)},i:F,o:F,d(j){j&&L(t),k=!1,N(O)}}}function rn(o,t,e){let n;Oe(o,de,l=>e(2,n=l));let{message:i}=t,{onUpdate:s}=t;i.expand.user==null&&(i={...i,expand:{...i.expand,user:{avatar:"",collectionId:"_pb_users_auth_",collectionName:"users",created:"2023-04-19 14:27:24.665Z",emailVisibility:!1,id:"5252288728",name:"Deleted User",updated:"2023-04-19 14:47:18.088Z",username:"Deleted User",verified:!0,expand:{}}}});async function r(){await R.collection("messages").delete(i.id)}const a=()=>s(i.id),u=()=>r();return o.$$set=l=>{"message"in l&&e(0,i=l.message),"onUpdate"in l&&e(1,s=l.onUpdate)},[i,s,n,r,a,u]}class an extends re{constructor(t){super(),se(this,t,rn,sn,ee,{message:0,onUpdate:1})}}function Ge(o,t,e){const n=o.slice();return n[12]=t[e],n[13]=t,n[14]=e,n}function We(o,t){let e,n,i,s;function r(u){t[7](u,t[12],t[13],t[14])}let a={onUpdate:t[6]};return t[12]!==void 0&&(a.message=t[12]),n=new an({props:a}),Q.push(()=>_e(n,"message",r)),{key:o,first:null,c(){e=ot(),oe(n.$$.fragment),this.first=e},m(u,l){z(u,e,l),Y(n,u,l),s=!0},p(u,l){t=u;const h={};!i&&l&2&&(i=!0,h.message=t[12],we(()=>i=!1)),n.$set(h)},i(u){s||(q(n.$$.fragment,u),s=!0)},o(u){D(n.$$.fragment,u),s=!1},d(u){u&&L(e),X(n,u)}}}function un(o){let t,e=[],n=new Map,i,s,r,a,u,l,h=o[2].now===!1?"Send":"Update",c,d,f,m,b,w=o[1];const S=g=>g[12].id;for(let g=0;g<w.length;g+=1){let y=Ge(o,w,g),k=S(y);n.set(k,e[g]=We(k,y))}return{c(){t=_("div");for(let g=0;g<e.length;g+=1)e[g].c();i=I(),s=_("form"),r=_("input"),u=I(),l=_("button"),c=W(h),v(t,"class","messages"),v(r,"placeholder",a=o[2].now===!1?"Send a message...":"Edit a message..."),v(r,"type","text"),l.disabled=d=!o[3],v(l,"type","submit"),v(s,"class","chat-input")},m(g,y){z(g,t,y);for(let k=0;k<e.length;k+=1)e[k]&&e[k].m(t,null);z(g,i,y),z(g,s,y),p(s,r),$(r,o[0]),p(s,u),p(s,l),p(l,c),f=!0,m||(b=[E(r,"input",o[8]),E(s,"submit",Pe(function(){Ce(o[2].now===!1?o[9]:o[10])&&(o[2].now===!1?o[9]:o[10]).apply(this,arguments)}))],m=!0)},p(g,[y]){o=g,y&66&&(w=o[1],Ze(),e=pt(e,y,S,1,o,w,n,t,ft,We,null,Ge),Qe()),(!f||y&4&&a!==(a=o[2].now===!1?"Send a message...":"Edit a message..."))&&v(r,"placeholder",a),y&1&&r.value!==o[0]&&$(r,o[0]),(!f||y&4)&&h!==(h=o[2].now===!1?"Send":"Update")&&Ie(c,h),(!f||y&8&&d!==(d=!o[3]))&&(l.disabled=d)},i(g){if(!f){for(let y=0;y<w.length;y+=1)q(e[y]);f=!0}},o(g){for(let y=0;y<e.length;y+=1)D(e[y]);f=!1},d(g){g&&L(t);for(let y=0;y<e.length;y+=1)e[y].d();g&&L(i),g&&L(s),m=!1,N(b)}}}function cn(o,t,e){let n;Oe(o,de,b=>e(3,n=b));let i,s=[],r,a={now:!1,id:""};at(async()=>{const b=await R.collection("messages").getList(1,50,{sort:"created",expand:"user"});e(1,s=b.items),r=await R.collection("messages").subscribe("*",async({action:w,record:S})=>{if(w==="create"){const g=await R.collection("users").getOne(S.user);S.expand={user:g},e(1,s=[...s,S])}else if(w==="update"){const g=await R.collection("users").getOne(S.user);S.expand={user:g};let y=s.findIndex(k=>k.id===S.id);e(1,s[y]=S,s)}else w==="delete"&&e(1,s=s.filter(g=>g.id!==S.id))})}),ut(()=>{r==null||r()});async function u(){const b={text:i,user:n.id};await R.collection("messages").create(b),e(0,i="")}async function l(b){const w=await R.collection("messages").getOne(b);await R.collection("messages").update(w.id,{...w,text:i}),e(2,a={now:!1,id:""}),e(0,i="")}async function h(b){const w=await R.collection("messages").getOne(b);w!=null&&(e(0,i=w.text),e(2,a={now:!0,id:b}))}function c(b,w,S,g){S[g]=b,e(1,s)}function d(){i=this.value,e(0,i)}return[i,s,a,n,u,l,h,c,d,()=>u(),()=>l(a.id)]}class ln extends re{constructor(t){super(),se(this,t,cn,un,ee,{})}}function hn(o){let t,e,n,i;return t=new Wt({}),n=new ln({}),{c(){oe(t.$$.fragment),e=I(),oe(n.$$.fragment)},m(s,r){Y(t,s,r),z(s,e,r),Y(n,s,r),i=!0},p:F,i(s){i||(q(t.$$.fragment,s),q(n.$$.fragment,s),i=!0)},o(s){D(t.$$.fragment,s),D(n.$$.fragment,s),i=!1},d(s){X(t,s),s&&L(e),X(n,s)}}}class dn extends re{constructor(t){super(),se(this,t,null,hn,ee,{})}}new dn({target:document.getElementById("app")});
